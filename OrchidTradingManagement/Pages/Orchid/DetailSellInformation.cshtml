@page
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@model OrchidTradingManagement.Pages.Orchid.DetailSellInformationModel
@{
    ViewData["Title"] = "Details";
    string role = HttpContextAccessor.HttpContext.Session.GetString("Role");
}

<div class="container mt-5">
    <h1 class="text-center mb-4">Product Details</h1>

    @if (Model != null)
    {
        <div class="row">
            <div class="col-md-6">
                <img src="@Model.ListInformation.Image" alt="@Model.ListInformation.Title" class="img-fluid rounded mx-auto d-block mb-4" style="max-height: 300px;" />
            </div>
            <div class="col-md-6">
                <h3>@Model.ListInformation.Title</h3>
                <p class="lead">@Model.ListInformation.Description</p>
                <ul class="list-group mb-4">
                    <li class="list-group-item"><strong>Created Date:</strong> @Model.ListInformation.CreatedDate.ToString("dd MMMM yyyy")</li>
                    <li class="list-group-item"><strong>Status:</strong> @Model.ListInformation.Status</li>
                </ul>

                @if (role != null && role.Equals("User"))
                {
                    <form class="form-inline" method="post">
                        <div class="form-group mr-2">
                            <label for="quantity" class="mr-2">Quantity:</label>
                            <input hidden readonly name="id" value="@Model.ListInformation.OrchidId" />
                            <input id="quantity" name="quantity" type="number" value="@Model.quantity" min="1" class="form-control" style="width: 80px;" />
                        </div>
                        <button type="submit" class="btn btn-primary">Buy Now</button>
                    </form>
                }
            </div>
        </div>
    }
    else
    {
        <p class="text-danger">Product not found.</p>
    }
</div>
